---
description: The playlog utility can be used to pre-generate contents for the HTTP response cache.
solution: Experience Manager
title: The 'playlog' utility
feature: Dynamic Media Classic,SDK/API
role: Developer,User
exl-id: e0213978-3a1d-44b4-82bf-4527b980b29e
---
# The 'playlog' utility{#the-playlog-utility}

The playlog utility can be used to pre-generate contents for the HTTP response cache.

The existing Image Serving HTTP response cache is not guaranteed usable after a major version upgrade (when the first or second digit of the version number changed). If the server is to be taken live into full-load conditions after the upgrade, the server may be overloaded handing the first few hours of cache miss requests until the cache is reasonably populated and the cache hit rate increases.

To avoid this initial load spike, the `playlog` utility can be used to pre-generate contents for the HTTP response cache. `playlog` extracts HTTP requests from an existing access log file and sends it to the server to generate cache entries. For typical usage scenarios, it is sufficient to play back a single access log file containing a full-day's worth of traffic.

In addition to priming the HTTP response cache after upgrade installs, the utility is also used to pre-generate cache contents when adding a new server to a load-balanced environment; simply play back a recent log file from one of the other servers.

`playlog` can be configured to support most access log files generated by prior versions of Image Serving.

## Usage {#section-daa126ec469b4a9d90d59def4fdaacdd}

` playlog *[!DNL logFile]* [-n *[!DNL col]*] [-s *[!DNL separator]*] [-m *[!DNL marker]*] [-p *[!DNL prefix]*] [-x *[!DNL suffix]*] [-v] [-h] [-r *[!DNL request method]*] [-o *[!DNL position]*]`

<table id="simpletable_39B9638BCB0F4244B5155C958C044C31"> 
 <tr class="strow"> 
  <td class="stentry"> <p> <span class="codeph"> -p <span class="varname"> prefix </span> </span> </p> </td> 
  <td class="stentry"> <p>Root URL to prepend to the requests extracted from the log file. </p> <p>Default: <span class="filepath"> http://localhost:8080/is </span>) </p> </td> 
 </tr> 
 <tr class="strow"> 
  <td class="stentry"> <p> <span class="codeph"> -n <span class="varname"> col </span> </span> </p> </td> 
  <td class="stentry"> <p>Field (column) number which contains the request in the log record; 1-based. </p> <p>Default: 16 </p> </td> 
 </tr> 
 <tr class="strow"> 
  <td class="stentry"> <p> <span class="codeph"> -s <span class="varname"> separator </span> </span> </p> </td> 
  <td class="stentry"> <p>Field separator; regular expression pattern. </p> <p>Default: <span class="codeph"> [ ]+ </span>) </p> </td> 
 </tr> 
 <tr class="strow"> 
  <td class="stentry"> <p> <span class="codeph"> -m <span class="varname"> marker </span> </span> </p> </td> 
  <td class="stentry"> <p>Request marker; identifies requests in the log file which should be played back; regular expression pattern. </p> <p>Default: <span class="codeph"> Request: </span>) </p> </td> 
 </tr> 
 <tr class="strow"> 
  <td class="stentry"> <p> <span class="codeph"> -x <span class="varname"> suffix </span> </span> </p> </td> 
  <td class="stentry"> <p>Suffix to append to the request extracted from the log file; can be used to separate played-back requests from live requests in the log files; a '?' or '&amp;' separator is inserted automatically; suffix can reference any log field by position within curly braces, default corresponds to md5 signature field. </p> <p>Default: <span class="codeph"> playlog={25} </span>) </p> </td> 
 </tr> 
 <tr class="strow"> 
  <td class="stentry"> <p> <span class="codeph"> -v </span> </p> </td> 
  <td class="stentry"> <p>Verbose mode, prints the generated request URLs to <span class="codeph"> stdout </span>. </p> </td> 
 </tr> 
 <tr class="strow"> 
  <td class="stentry"> <p> <span class="codeph"> -h </span> </p> </td> 
  <td class="stentry"> <p>Print a synopsis to <span class="codeph"> stdout </span>. </p> </td> 
 </tr> 
 <tr class="strow"> 
  <td class="stentry"> <p> <span class="codeph"> -r </span> </p> </td> 
  <td class="stentry"> <p>request-method - HTTP request method to use ( <span class="codeph"> get|post|head|smart </span>). </p> <p>Default: <span class="codeph"> smart </span>) </p> </td> 
 </tr> 
 <tr class="strow"> 
  <td class="stentry"> <p> <span class="codeph"> -o </span> </p> </td> 
  <td class="stentry"> <p>request-method-pos - pos in log file to grab original method from. </p> <p>Default: 15 </p> </td> 
 </tr> 
</table>

For Windows, the filename is [!DNL playlog.bat] and on Linux it is [!DNL playlog.sh].

## Examples {#section-716e5c35e9fa4ee3a4b0687381fcea40}

The following example plays back all requests from an access log file created by Image Serving on Linux:

`> cd /usr/local/Scene7/ImageServing/logs`

`> ../bin/playlog.sh access-2007-01-01.log -n 18 -s ' ' -m . -p http://localhost:8080`

The following command plays back all requests found in a trace log file created by Image Serving on Windows:

`> "\Program Files\Scene7\ImageServing\bin\playlog.bat" d:\logs/access-2006-09-01.log`
